{
  "etl": {
    "raw_data": {
      "glob_pattern": "data/raw/*.csv",
      "file_encoding": ["utf-8", "utf-8-sig", "iso-8859-1", "cp1252"],
      "csv_options": {
        "delimiter_detection": true,
        "skip_empty_rows": true,
        "strip_whitespace": true
      }
    },
    "chunking": {
      "max_tokens": 512,
      "overlap_tokens": 64,
      "chunk_on_sentences": true
    },
    "validation": {
      "required_fields": ["objective"],
      "min_text_length": 3,
      "numeric_ranges": {
        "progress": [0, 100],
        "team_size": [1, 1000],
        "budget": [0, 10000000],
        "timeline_days": [1, 3650]
      }
    },
    "column_mappings": {
      "common_mappings": {
        "dept": "department",
        "obj": "objective",
        "obj_type": "objective_type",
        "prio": "priority",
        "qtr": "quarter",
        "team": "team_size",
        "cost": "budget",
        "days": "timeline_days",
        "pct": "progress",
        "stat": "status"
      }
    }
  },
  "databases": {
    "raw": "okr_raw",
    "processed": "okr_processed",
    "curated": "okr_curated",
    "connection_timeout": 30,
    "batch_size": 1000
  },
  "kafka": {
    "bootstrap_servers": "kafka:9092",
    "topics": {
      "raw_ingest": "okr_raw_ingest",
      "processed_updates": "okr_processed_updates"
    },
    "producer_config": {
      "acks": "all",
      "retries": 3,
      "retry_backoff_ms": 1000,
      "request_timeout_ms": 30000
    }
  },
  "airflow": {
    "dag_config": {
      "schedule_interval": "@daily",
      "max_active_runs": 1,
      "catchup": false,
      "retries": 2,
      "retry_delay_minutes": 5
    },
    "task_timeouts": {
      "discover_csvs": 300,
      "ingest_to_raw": 1800,
      "transform_validate": 1800,
      "load_processed": 900,
      "emit_curated_json": 900,
      "publish_processed_event": 300
    }
  },
  "logging": {
    "level": "INFO",
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    "structured": true
  }
}